<div>
    <div *ngIf="hasNotifications" refresh-on="filterChanged" refresh-action="vm.onFilterChanged()">
        <div refresh-on="OrganizationChanged ProjectChanged PersistentEventChanged PlanChanged PlanOverage" refresh-action="vm.get()" refresh-throttle="10000"></div>

        <div class="alert alert-success alert-banner m-b-none" *ngIf="!hasOrganizations()">
            <h4>Setup your first project</h4>
            <p>
                Please <a>add a new project</a> and start becoming exceptionless in less than 60 seconds!
            </p>
        </div>

        <div class="alert alert-success alert-banner m-b-none" *ngIf="hasOrganizationsWithNoProjects()">
            <h4>Setup your first project</h4>
            <p>
                <strong ng-repeat="organization in vm.organizationsWithNoProjects">
                    <span ng-if="!$first">, </span><a ui-sref="app.project.add({ organizationId: organization.id })"></a>
                </strong>
                currently has no projects. <a ui-sref="app.project.add({ organizationId: vm.organizationsWithNoProjects[0].id })">Add a new project</a> and start becoming exceptionless in less than 60 seconds!
            </p>
        </div>

        <div class="alert alert-success alert-banner m-b-none" *ngIf="hasProjectsRequiringConfiguration()">
            <h4>We haven't received any data!</h4>
            <p>
                Please configure your clients for
                <strong ng-repeat="project in vm.projectsRequiringConfiguration">
                    <span ng-if="!$first">, </span><a ui-sref="app.project.configure({ id: project.id, redirect: true })" title="Configure_Project_Title"> </a>
                </strong>
                projects and start becoming exceptionless in less than 60 seconds!
            </p>
        </div>

        <div class="alert alert-danger alert-banner m-b-none" *ngIf="hasSuspendedOrganizations()">
            <h4>
                <span ng-repeat="organization in vm.suspendedOrganizations">
                    <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)"></a>
                </span> has been suspended.
            </h4>
            <p><em>Please note that while your account is suspended all new client events will be discarded.</em></p>

            <p *ngIf="hasSuspendedForBillingOrganizations()">
                To unsuspend
                <strong ng-repeat="organization in vm.suspendedForBillingOrganizations">
                    <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)"></a>
                </strong>
                , please <a ng-click="vm.showChangePlanDialog(vm.suspendedForBillingOrganizations[0].id)">update your billing information</a>.
            </p>

            <p *ngIf="hasSuspendedForAbuseOrOverageOrNotActiveOrganizations()">
                <strong ng-repeat="organization in vm.suspendedForAbuseOrOverageOrNotActiveOrganizations">
                    <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)"></a>
                </strong>
                has exceeded the plan limits. To unsuspend your account, please
                <a ng-click="vm.showChangePlanDialog(vm.suspendedForAbuseOrOverageOrNotActiveOrganizations[0].id)">upgrade your plan</a>.
            </p>

            <p *ngIf="isIntercomEnabled()">
                Please <a ng-click="appVm.showIntercom()">contact us</a>
                for more information on why your account was suspended.
            </p>
        </div>

        <div class="alert alert-danger alert-banner m-b-none" *ngIf="hasExceededRequestLimitOrganizations()">
            <h4>
                API requests are currently being throttled for
                <span ng-repeat="organization in vm.exceededRequestLimitOrganizations">
                    <span ng-if="!$first">, </span>
                </span>
            </h4>

            <p ng-if="vm.isIntercomEnabled()">
                Please <a ng-click="appVm.showIntercom()">contact us</a> for more information.
            </p>
        </div>

        <div class="alert alert-danger alert-banner m-b-none" *ngIf="hasHourlyOverageOrganizations()">
            <h4>
                Events are currently being throttled for
                <span ng-repeat="organization in vm.hourlyOverageOrganizations">
                    <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)"></a>
                </span>
            </h4>

            <p>Events are currently being throttled to prevent using up your plan limit in a small window of time. <a ng-click="vm.showChangePlanDialog(vm.hourlyOverageOrganizations[0].id)">Upgrade now</a> to increase your limits.</p>
        </div>

        <div class="alert alert-danger alert-banner m-b-none" *ngIf="hasMonthlyOverageOrganizations()">
            <h4>
                <span ng-repeat="organization in vm.monthlyOverageOrganizations">
                  <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)"></a>
                </span>
                has reached its monthly plan limit.
            </h4>

            <p><a ng-click="vm.showChangePlanDialog(vm.monthlyOverageOrganizations[0].id)">Upgrade now</a> to continue receiving events.</p>
        </div>

        <div class="alert alert-danger alert-banner m-b-none" *ngIf="hasOrganizationsWithoutPremiumFeatures()">
            <h4>
                <span ng-repeat="organization in vm.organizationsWithoutPremiumFeatures">
                  <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)"></a>
                </span>
                is attempting to use a premium feature.
            </h4>

            <p><a ng-click="vm.showChangePlanDialog(vm.organizationsWithoutPremiumFeatures[0].id)">Upgrade now</a> to enable search and other premium features!</p>
        </div>

        <div class="alert alert-success alert-banner m-b-none" *ngIf="hasFreeOrganizations()">
            <h4>
                <span ng-repeat="organization in vm.freeOrganizations">
                  <span ng-if="!$first">, </span><a ng-click="vm.showChangePlanDialog(organization.id)"></a>
                </span> is currently on a free plan.
            </h4>

            <p><a ng-click="vm.showChangePlanDialog(vm.freeOrganizations[0].id)">Upgrade now</a> to enable premium features and extra storage!</p>
        </div>
    </div>
</div>
